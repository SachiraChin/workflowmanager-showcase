# =============================================================================
# Workflow Manager - Docker Deployment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# 
# Usage:
#   cp .env.example .env
#   # Edit .env with your values
#   ./deploy.sh
# =============================================================================

# =============================================================================
# Database Configuration
# =============================================================================

# Database name
MONGODB_DATABASE=workflow_db

# Backup directory path (on host machine)
# This directory will be mounted into the mongo container at /backups
MONGO_BACKUP_PATH=/path/to/backups

# Virtual execution MongoDB (separate instance for isolation from prod data)
# Used by workflow editor for virtual/preview execution
MONGODB_VIRTUAL_URI=mongodb://mongo-virtual:27017

# =============================================================================
# Server Configuration
# =============================================================================

# Public URL where the server is accessible (used for media URLs)
SERVER_BASE_URL=https://api.arandomsitein.space

# Virtual server URL (for editor virtual execution)
# Default exposed port is 9091 (maps to container port 9001)
# Production: virtual.api.arandomsitein.space
VIRTUAL_SERVER_URL=https://virtual.api.arandomsitein.space

# Media storage path on host (mounted into container)
MEDIA_HOST_PATH=/path/to/media

# =============================================================================
# SSE/Streaming Configuration
# =============================================================================

PROGRESS_INTERVAL=2
POLL_INTERVAL=1
CANCEL_CHECK_INTERVAL=2

# =============================================================================
# Authentication & Security (REQUIRED)
# =============================================================================

# JWT Secret Key - CHANGE THIS IN PRODUCTION!
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY=your-secret-key-change-in-production

# Cookie settings
COOKIE_SECURE=true
COOKIE_SAMESITE=strict
COOKIE_DOMAIN=.arandomsitein.space

# =============================================================================
# CORS Configuration
# =============================================================================

# Allowed origins (comma-separated)
CORS_ORIGINS=https://arandomsitein.space

# =============================================================================
# Frontend Configuration
# =============================================================================

# API URL that the frontend will use
VITE_API_PROD_URL=https://api.arandomsitein.space

# =============================================================================
# LLM API Keys
# =============================================================================

# OpenAI
OPENAI_API_KEY=sk-your-openai-key

# Anthropic (Claude)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key

# =============================================================================
# Media Provider API Keys
# =============================================================================

# Leonardo AI
LEONARDO_API_KEY=your-leonardo-key

# MidAPI (MidJourney)
MIDAPI_API_KEY=your-midapi-key

# ElevenLabs (Audio)
ELEVENLABS_API_KEY=your-elevenlabs-key

# SD Forge (local Stable Diffusion) - optional
# SD_FORGE_API_URL=http://192.168.1.181:7860

# =============================================================================
# Worker Configuration
# =============================================================================

WORKER_HEARTBEAT_INTERVAL=5
WORKER_STALE_THRESHOLD=30
WORKER_POLL_INTERVAL=1
WORKER_VERBOSE=false

# =============================================================================
# System
# =============================================================================

# Timezone
TZ=UTC
